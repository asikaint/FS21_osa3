(this.webpackJsonppuhelinluetteloo=this.webpackJsonppuhelinluetteloo||[]).push([[0],{23:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),o=t(18),a=t.n(o),u=(t(23),t(9)),i=t(4),s=t(0),l=function(e){var n=e.newFilter,t=e.handleFilterChange;return Object(s.jsx)("div",{children:Object(s.jsx)("form",{children:Object(s.jsxs)("div",{children:[" filter shown with:",Object(s.jsx)("input",{value:n,onChange:t})]})})})},d=function(e){var n=e.addName,t=e.newName,c=e.handleNameChange,r=e.newNumber,o=e.handleNumberChange;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:[" name:",Object(s.jsx)("input",{value:t,onChange:c})]}),Object(s.jsxs)("div",{children:[" number:",Object(s.jsx)("input",{value:r,onChange:o})]}),Object(s.jsx)("button",{type:"submit",children:"add"})]})},j=t(3),b=t.n(j),h=function(e){var n=e.person,t=e.removePerson;return Object(s.jsxs)("li",{children:[n.name,": ",n.number," "," ",Object(s.jsx)("button",{onClick:t,children:"remove"})]})},m="/api/persons",f=function(){return b.a.get(m).then((function(e){return e.data}))},O=function(e){return b.a.post(m,e).then((function(e){return e.data}))},v=function(e){return console.log("removed ",e),b.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},g=function(e){var n=e.message;return null===n?null:Object(s.jsxs)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:[Object(s.jsx)("br",{}),Object(s.jsx)("em",{children:n})]})},p=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),a=Object(i.a)(o,2),j=a[0],b=a[1],m=Object(c.useState)(""),p=Object(i.a)(m,2),x=p[0],w=p[1],C=Object(c.useState)(""),N=Object(i.a)(C,2),S=N[0],y=N[1],k=Object(c.useState)(""),F=Object(i.a)(k,2),L=F[0],P=F[1];Object(c.useEffect)((function(){f().then((function(e){r(e)}))}),[]);var R,T;if(S.length>0)var B=Object(u.a)((R=t.map((function(e){return e})),T=S,R.filter((function(e){return e.name.toLowerCase().includes(T)}))));else B=Object(u.a)(t);return Object(s.jsxs)("div",{children:[Object(s.jsx)(g,{message:L}),Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(l,{newFilter:S,handleFilterChange:function(e){y(e.target.value)}}),Object(s.jsx)("h3",{children:"add a new number"}),Object(s.jsx)(d,{addName:function(e){var n={name:j,number:x};e.preventDefault();var c=t.map((function(e){return e.name.toLocaleLowerCase()})),o=t.map((function(e){return e.number}));c.includes(j.toLowerCase())?window.alert("".concat(j," is already added to phonebook")):o.includes(x)?window.alert("".concat(x," is already added to phonebook")):O(n).then((function(e){r(t.concat(e)),b(""),w(""),P("Added ".concat(e.name)),setTimeout((function(){P(null)}),3e3)}))},newName:j,handleNameChange:function(e){b(e.target.value)},newNumber:x,handleNumberChange:function(e){w(e.target.value)}}),Object(s.jsx)("h3",{children:"Numbers"}),Object(s.jsx)("ul",{children:B.map((function(e){return Object(s.jsx)(h,{person:e,removePerson:function(){return function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Remove ".concat(n.name," "))&&v(n.id).then((function(c){P("Removed ".concat(n.name)),setTimeout((function(){P(null)}),3e3),r(t.filter((function(n){return n.id!==e})))})).catch((function(e){P("the note '".concat(n.name,"': '").concat(n.number,"' was already deleted from server")),setTimeout((function(){P(null)}),3e3)}))}(e.id)}},e.id)}))})]})},x=b.a.get("http://localhost:3001/persons");console.log(x),a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ca61a602.chunk.js.map