{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonsShow.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","PersonsShow","person","removePerson","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","put","id","delete","Notification","message","messageClass","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","errorMessage","setErrorMessage","console","log","useEffect","personService","returnedData","namesToShow","filter","toLowerCase","includes","event","target","nameObject","preventDefault","names","map","toLocaleLowerCase","find","window","confirm","returnedPerson","newPersons","concat","setTimeout","catch","error","returnedName","n","removedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9befe2e9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n\r\n    return(\r\n        <div>\r\n            <form>\r\n                <div> filter shown with: \r\n                    <input value={newFilter} \r\n                    onChange={handleFilterChange}\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div> name: \r\n                <input \r\n                value={newName}\r\n                onChange={handleNameChange}\r\n                />\r\n            </div>\r\n            <div> number: \r\n                <input\r\n                value={newNumber}\r\n                onChange={handleNumberChange}\r\n                />\r\n            </div>\r\n            <button type=\"submit\">add</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonsShow = ({person, removePerson}) => {\r\n    return (\r\n    <li>\r\n        {person.name}: {person.number} {\" \"}\r\n        <button onClick={removePerson}>\r\n            remove \r\n        </button>\r\n    </li>    \r\n    )\r\n}\r\n\r\n    \r\n         \r\nexport default PersonsShow","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst put = newObject => {\r\n  const request = axios.put(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create,put, remove }","import React from 'react'\r\n\r\n\r\nconst Notification = ({message,messageClass}) => {\r\n\r\n  if (message === null) {\r\n    return null\r\n  } else {\r\n    return (\r\n      <div className={messageClass}>\r\n        <br/>\r\n        <em>{message}</em>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonsShow from './components/PersonsShow'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\nconsole.log(`message: `, message)\nconsole.log(`errorMessage: `, errorMessage)\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(returnedData => {\n      setPersons(returnedData)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const namesToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter));\n\n  const addName = (event) => {\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    event.preventDefault()\n    const names = persons.map(person => person.name.toLocaleLowerCase())\n  \n    if (names.includes(newName.toLowerCase())) {\n      const name = names.find(name => name === newName)\n\n      if (window.confirm(`Name ${name} is already in the phonebook, are you sure you want to change the number `)) {\n        console.log(\"tääl\")\n        personService\n          .put(nameObject)\n          .then(returnedPerson => {\n            const newPersons = persons.filter(person => person.name !== returnedPerson.name).concat(returnedPerson)\n            setPersons(newPersons)\n            setNewName('')\n            setNewNumber('')\n            console.log(`updated name ${returnedPerson.name} number to ${returnedPerson.number}`)\n            setMessage(`Changed ${returnedPerson.name} number to ${returnedPerson.number}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n        })\n        .catch(error => { // Lyhyt nimi\n          setErrorMessage(``)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n        })\n      }\n    } else { // Ei ole lisätty\n      personService\n        .create(nameObject)\n        .then(returnedName => {\n          setPersons(persons.concat(returnedName))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${returnedName.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n      })\n      .catch(error => { // Lyhyt nimi\n        console.log(error.response.data.message)\n\n        setErrorMessage(`${error.response.data.message}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n      })\n    }\n  }\n\n  const removePerson = (id) => {\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Remove ${person.name} `)) {    \n      personService\n      .remove(person.id)\n        .then(removedPerson => {\n          setMessage(`Removed ${person.name}`)\n          setTimeout(()=> {\n            setMessage(null)\n          }, 3000)\n          setPersons(persons.filter((person) => person.id !== id))\n        })  \n      .catch(error => {\n        setErrorMessage(`the note '${person.name}': '${person.number}' was already deleted from server`)\n        setTimeout(()=> {\n          setErrorMessage(null)\n        }, 3000)\n      })\n    }\n  }\n  \n  return (\n    <div>\n      <Notification message={message} messageClass={`person`}/>\n      <Notification message={errorMessage} messageClass={`error`}/>\n\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <h3>add a new number</h3>\n      <PersonForm \n        addName={addName} \n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <ul>\n        {namesToShow.map(person => \n            <PersonsShow\n            key={person.id}\n            person={person} \n              removePerson={() => removePerson(person.id)}\n            />\n        )}\n      </ul>\n    </div>\n   )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import axios from 'axios'\n// import reportWebVitals from './reportWebVitals';\n\n// const promise = axios.get('http://localhost:3001/persons')\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}